@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply scroll-smooth;
  }

  body {
    @apply bg-cream text-stone-800 font-sans antialiased;
  }

  /* Japandi typography */
  h1, h2, h3, h4, h5, h6 {
    @apply font-normal tracking-wide text-stone-900;
  }

  p {
    @apply leading-relaxed;
  }

  /* Selection color */
  ::selection {
    @apply bg-pink-200 text-stone-900;
  }
}

@layer components {
  /* Japandi container with generous spacing */
  .japandi-container {
    @apply mx-auto max-w-7xl px-4 sm:px-6 lg:px-8;
  }

  /* Soft, paper-like shadow */
  .japandi-shadow {
    box-shadow: 0 4px 20px -4px rgba(0, 0, 0, 0.08);
  }

  /* Elevated shadow for hover states */
  .japandi-shadow-lg {
    box-shadow:
      0 10px 40px -10px rgba(0, 0, 0, 0.12),
      0 4px 20px -4px rgba(232, 160, 191, 0.15);
  }

  /* Pink accent underline with animation */
  .pink-underline {
    @apply relative;
  }

  .pink-underline::after {
    content: '';
    @apply absolute -bottom-2 left-1/2 w-12 h-0.5 bg-gradient-to-r from-pink-400 to-pink-600;
    transform: translateX(-50%);
  }

  /* Ma (é–“) - breathing space section */
  .ma-section {
    @apply py-16 lg:py-24;
  }

  /* Organic card shape */
  .organic-card {
    border-radius: 1.5rem 0.375rem 1.5rem 0.375rem;
  }

  /* Subtle hover lift with shadow */
  .hover-lift {
    @apply transition-all duration-500 ease-out;
  }

  .hover-lift:hover {
    transform: translateY(-4px);
    box-shadow:
      0 20px 40px -15px rgba(0, 0, 0, 0.1),
      0 8px 20px -8px rgba(232, 160, 191, 0.2);
  }

  /* Glass effect */
  .glass {
    @apply bg-white/70 backdrop-blur-md;
  }

  /* Gradient text */
  .gradient-text {
    @apply bg-gradient-to-r from-pink-500 to-pink-600 bg-clip-text text-transparent;
  }

  /* Animated gradient background */
  .gradient-bg {
    background: linear-gradient(
      135deg,
      #FAF7F2 0%,
      #fdf5f9 25%,
      #FAF7F2 50%,
      #f5f5f4 75%,
      #FAF7F2 100%
    );
    background-size: 400% 400%;
    animation: gradient-shift 15s ease infinite;
  }

  /* Decorative blob */
  .blob {
    border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    animation: blob-morph 8s ease-in-out infinite;
  }

  /* Shimmer effect */
  .shimmer {
    position: relative;
    overflow: hidden;
  }

  .shimmer::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent
    );
    animation: shimmer 2s infinite;
  }

  /* Image zoom container */
  .img-zoom {
    @apply overflow-hidden;
  }

  .img-zoom img {
    @apply transition-transform duration-700 ease-out;
  }

  .img-zoom:hover img {
    transform: scale(1.08);
  }

  /* Stagger animation for children */
  .stagger-children > * {
    @apply opacity-0 translate-y-4;
    animation: fade-in-up 0.6s ease-out forwards;
  }

  .stagger-children > *:nth-child(1) { animation-delay: 0.1s; }
  .stagger-children > *:nth-child(2) { animation-delay: 0.2s; }
  .stagger-children > *:nth-child(3) { animation-delay: 0.3s; }
  .stagger-children > *:nth-child(4) { animation-delay: 0.4s; }
  .stagger-children > *:nth-child(5) { animation-delay: 0.5s; }
  .stagger-children > *:nth-child(6) { animation-delay: 0.6s; }
}

@layer utilities {
  /* Text balance for headings */
  .text-balance {
    text-wrap: balance;
  }
}

/* Keyframe animations */
@keyframes gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes blob-morph {
  0%, 100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
  50% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
}

@keyframes shimmer {
  100% { left: 100%; }
}

@keyframes fade-in-up {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

@keyframes pulse-soft {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

/* Scroll-triggered animations (using intersection observer in JS) */
.reveal {
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

/* Stagger reveal items */
.stagger-reveal .reveal-item {
  opacity: 0;
  transform: translateY(20px);
  animation: fade-in-up 0.6s ease-out forwards;
}

/* Sticky header styles */
[data-sticky-header] {
  @apply transition-all duration-300;
}

[data-sticky-header].header-scrolled {
  @apply bg-white/90 backdrop-blur-lg shadow-lg;
}

[data-sticky-header].header-hidden {
  transform: translateY(-100%);
}

/* Lightbox styles */
.lightbox {
  @apply fixed inset-0 z-50 flex items-center justify-center;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.lightbox.active {
  opacity: 1;
  visibility: visible;
}

.lightbox-overlay {
  @apply absolute inset-0 bg-stone-900/95 backdrop-blur-sm;
}

.lightbox-content {
  @apply relative max-w-5xl max-h-[90vh] w-full mx-4;
}

.lightbox-image {
  @apply w-full h-full object-contain rounded-lg;
  max-height: 85vh;
}

.lightbox-close {
  @apply absolute -top-12 right-0 w-10 h-10 flex items-center justify-center text-white/80 hover:text-white transition-colors rounded-full hover:bg-white/10;
}

.lightbox-prev,
.lightbox-next {
  @apply absolute top-1/2 -translate-y-1/2 w-12 h-12 flex items-center justify-center text-white/80 hover:text-white transition-all rounded-full bg-white/10 hover:bg-white/20;
}

.lightbox-prev { left: -60px; }
.lightbox-next { right: -60px; }

@media (max-width: 768px) {
  .lightbox-prev { left: 10px; }
  .lightbox-next { right: 10px; }
}

/* Skeleton loading */
.skeleton {
  @apply relative overflow-hidden bg-stone-200 rounded-lg;
}

.skeleton::after {
  content: '';
  @apply absolute inset-0;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.5),
    transparent
  );
  animation: skeleton-loading 1.5s infinite;
}

@keyframes skeleton-loading {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* Skeleton variants */
.skeleton-text {
  @apply skeleton h-4 w-3/4;
}

.skeleton-title {
  @apply skeleton h-6 w-1/2;
}

.skeleton-image {
  @apply skeleton aspect-square w-full;
}

.skeleton-card {
  @apply skeleton rounded-2xl;
}

/* Japanese typography accent */
.jp-accent {
  font-family: 'Noto Sans JP', 'Be Vietnam Pro', sans-serif;
  @apply text-pink-300/40 font-light;
}

/* Parallax container */
.parallax-container {
  @apply relative overflow-hidden;
}

.parallax {
  will-change: transform;
}

/* Testimonial card */
.testimonial-card {
  @apply bg-white rounded-2xl p-6 lg:p-8 shadow-lg border border-stone-100 transition-all duration-500;
}

.testimonial-card:hover {
  @apply shadow-xl;
  transform: translateY(-2px);
}

/* Newsletter input */
.newsletter-input {
  @apply w-full px-5 py-4 rounded-xl border-2 border-stone-200 bg-white text-stone-800 placeholder-stone-400 transition-all duration-300;
}

.newsletter-input:focus {
  @apply outline-none border-pink-400 ring-4 ring-pink-100;
}

/* Counter animation */
[data-counter] {
  @apply tabular-nums;
}

/* Scroll indicator bounce */
@keyframes bounce-gentle {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(5px); }
}

.scroll-indicator {
  animation: bounce-gentle 2s ease-in-out infinite;
}

/* Quote marks for testimonials */
.quote-mark {
  @apply text-6xl lg:text-8xl text-pink-200 font-serif leading-none;
}

/* Rating stars */
.rating-star {
  @apply w-5 h-5 text-yellow-400 fill-current;
}

/* Pulse ring animation */
@keyframes pulse-ring {
  0% {
    transform: scale(0.8);
    opacity: 0.8;
  }
  100% {
    transform: scale(1.4);
    opacity: 0;
  }
}

.pulse-ring {
  @apply absolute inset-0 rounded-full bg-pink-400;
  animation: pulse-ring 2s ease-out infinite;
}
